{"ast":null,"code":"import _slicedToArray from \"/Users/lionellobo/Desktop/programming/testingNewThings/python-blockchain/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/lionellobo/Desktop/programming/testingNewThings/python-blockchain/frontend/src/components/TransactionPool.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button } from 'react-bootstrap';\nimport Transaction from './Transaction';\nimport { API_BASE_URL, SECONDS_JS } from '../config';\nconst POLL_INTERVAL = 10 * SECONDS_JS;\n\nfunction TransactionPool() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        transactions = _useState2[0],\n        setTransactions = _useState2[1];\n\n  const fetchTransactions = () => {\n    fetch(`${API_BASE_URL}/transactions`).then(response => response.json()).then(json => {\n      console.log('Transactions json', json);\n      setTransactions(json);\n    });\n  };\n\n  useEffect(() => {\n    fetchTransactions();\n    const intervalId = setInterval(fetchTransactions, POLL_INTERVAL);\n    return () => clearInterval(intervalId);\n  }, []);\n\n  const fetchMineBlock = () => {\n    fetch(`${API_BASE_URL}/blockchain/mine`).then(() => {\n      alert('Mining Successful');\n      history.push;\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"TransactionPool\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"HOME\"), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"TransactionPool\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, transactions.map(transaction => React.createElement(\"div\", {\n    key: transaction.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), React.createElement(Transaction, {\n    transaction: transaction,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  })))), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(Button, {\n    variant: \"danger\",\n    onClick: fetchMineBlock,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Mine a Block of these Transactiomns\"));\n}\n\nexport default TransactionPool;","map":{"version":3,"sources":["/Users/lionellobo/Desktop/programming/testingNewThings/python-blockchain/frontend/src/components/TransactionPool.js"],"names":["React","useState","useEffect","Link","Button","Transaction","API_BASE_URL","SECONDS_JS","POLL_INTERVAL","TransactionPool","transactions","setTransactions","fetchTransactions","fetch","then","response","json","console","log","intervalId","setInterval","clearInterval","fetchMineBlock","alert","history","push","map","transaction","id"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAAQC,YAAR,EAAsBC,UAAtB,QAAuC,WAAvC;AAGA,MAAMC,aAAa,GAAG,KAAKD,UAA3B;;AAEA,SAASE,eAAT,GAA0B;AAAA,oBACkBR,QAAQ,CAAC,EAAD,CAD1B;AAAA;AAAA,QACfS,YADe;AAAA,QACDC,eADC;;AAGtB,QAAMC,iBAAiB,GAAE,MAAM;AAC3BC,IAAAA,KAAK,CAAE,GAAEP,YAAa,eAAjB,CAAL,CACCQ,IADD,CACMC,QAAQ,IAAEA,QAAQ,CAACC,IAAT,EADhB,EAECF,IAFD,CAEME,IAAI,IAAE;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCF,IAAjC;AACAL,MAAAA,eAAe,CAACK,IAAD,CAAf;AACH,KALD;AAMH,GAPD;;AASAd,EAAAA,SAAS,CAAC,MAAM;AACZU,IAAAA,iBAAiB;AACjB,UAAMO,UAAU,GAAGC,WAAW,CAACR,iBAAD,EAAoBJ,aAApB,CAA9B;AACA,WAAO,MAAMa,aAAa,CAACF,UAAD,CAA1B;AACH,GAJQ,EAIN,EAJM,CAAT;;AAMA,QAAMG,cAAc,GAAG,MAAM;AACzBT,IAAAA,KAAK,CAAE,GAAEP,YAAa,kBAAjB,CAAL,CACCQ,IADD,CACM,MAAI;AACNS,MAAAA,KAAK,CAAC,mBAAD,CAAL;AAEAC,MAAAA,OAAO,CAACC,IAAR;AACH,KALD;AAMH,GAPD;;AASA,SACI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQf,YAAY,CAACgB,GAAb,CAAiBC,WAAW,IACxB;AAAK,IAAA,GAAG,EAAEA,WAAW,CAACC,EAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,WAAD;AAAa,IAAA,WAAW,EAAED,WAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,CAFR,CAJJ,EAcI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdJ,EAeI,oBAAC,MAAD;AACI,IAAA,OAAO,EAAC,QADZ;AAEI,IAAA,OAAO,EAAEL,cAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAfJ,CADJ;AAwBH;;AAED,eAAeb,eAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport { Button } from 'react-bootstrap';\nimport Transaction from './Transaction';\nimport {API_BASE_URL, SECONDS_JS} from '../config';\n\n\nconst POLL_INTERVAL = 10 * SECONDS_JS\n\nfunction TransactionPool(){\n    const [transactions, setTransactions] = useState([]);\n\n    const fetchTransactions= () => {\n        fetch(`${API_BASE_URL}/transactions`)\n        .then(response=>response.json())\n        .then(json=>{\n            console.log('Transactions json', json);\n            setTransactions(json);\n        });\n    }\n\n    useEffect(() => {\n        fetchTransactions();\n        const intervalId = setInterval(fetchTransactions, POLL_INTERVAL);\n        return () => clearInterval(intervalId)\n    }, [])\n\n    const fetchMineBlock = () => {\n        fetch(`${API_BASE_URL}/blockchain/mine`)\n        .then(()=>{\n            alert('Mining Successful');\n\n            history.push\n        });\n    }\n\n    return (\n        <div className=\"TransactionPool\">\n            <Link to=\"/\">HOME</Link>\n            <hr/>\n            <h3>TransactionPool</h3>\n            <div>\n                {\n                    transactions.map(transaction =>(\n                        <div key={transaction.id}>\n                            <hr/>\n                            <Transaction transaction={transaction}/>\n                        </div>\n                    ))\n                }\n            </div>\n            <hr/>\n            <Button\n                variant=\"danger\"\n                onClick={fetchMineBlock}\n            >\n                Mine a Block of these Transactiomns\n            </Button>\n        </div>\n    )\n}\n\nexport default TransactionPool"]},"metadata":{},"sourceType":"module"}